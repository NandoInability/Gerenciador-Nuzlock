<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gerenciador Nuzlocke</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<main class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Minhas Runs de Soulink</h1>
        <p class="lead text-muted">Acompanhe suas aventuras e seus pares.</p>
        <a href="/runs/novo" class="btn btn-primary btn-lg px-4 gap-3">+ Criar Nova Run</a>
    </div>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

        <div th:each="run : ${runs}" class="col">
            <div class="card h-100 shadow-sm">
                <div class="card-header fw-bold">
                    Pokémon Game
                </div>
                <div class="card-body">
                    <h5 class="card-title" th:text="${run.nomeDaRun}">Nome da Run Placeholder</h5>
                    <p class="card-subtitle mb-2 text-muted" th:text="${run.jogo.nome}">Nome do Jogo</p>
                    <p class="card-text text-muted" th:text="${run.jogador1} + ' & ' + ${run.jogador2}">
                        Jogador 1 & Jogador 2
                    </p>
                </div>
                <div class="card-footer bg-transparent border-top-0 d-flex justify-content-between align-items-center">
                    <a th:href="@{/runs/{id}(id=${run.id})}" class="btn btn-outline-secondary btn-sm">Ver Detalhes</a>

                    <div>
                        <a th:href="@{/runs/{id}/editar(id=${run.id})}" class="btn btn-outline-primary btn-sm">Editar</a>

                        <form th:action="@{/runs/{id}/deletar(id=${run.id})}" method="post" class="d-inline ms-1">
                            <input type="hidden" name="_method" value="delete"/>
                            <button type="submit" class="btn btn-outline-danger btn-sm"
                                    onclick="return confirm('Tem certeza que deseja deletar esta run e todos os seus pares?');">
                                Deletar
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div th:if="${runs.isEmpty()}" class="text-center py-5">
        <div class="card p-5 shadow-sm">
            <h3 class="text-muted">Nenhuma run cadastrada.</h3>
            <p>Que tal criar a primeira aventura clicando no botão acima?</p>
        </div>
    </div>

</main>
</body>
</html>